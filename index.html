import React, { useState } from 'react';
import ReactDOM from 'react-dom/client';

const Platform = () => {
  const [teacher, setTeacher] = useState("ููุฑุฉ ุงููุงููู");
  const [visits, setVisits] = useState({ s1: 0, s2: 0 });
  const [files, setFiles] = useState([]);

  const handleUpload = (e) => {
    const file = e.target.files[0];
    if (file) {
      setFiles([...files, { name: file.name, owner: teacher }]);
      alert(`ุชู ุฑูุน ููู ${file.name} ุจูุฌุงุญ ูููุนููุฉ ${teacher}`);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 p-6 text-right" dir="rtl">
      {/* ุฑุฃุณ ุงูุตูุญุฉ ุจุงูุฃุณูุงุก ุงูุฌุฏูุฏุฉ */}
      <div className="bg-white shadow rounded-lg p-6 mb-6 flex justify-between items-center">
        <div>
          <h1 className="text-2xl font-bold text-blue-700">ูุฌูุน ุงูุณุญู</h1>
          <p className="text-sm text-gray-500">ููุตุฉ ุชูููู ุงูุงุณุชุฑุงุชูุฌูุงุช ุงูุชุนููููุฉ</p>
        </div>
        <select onChange={(e) => setTeacher(e.target.value)} className="border p-2 rounded-lg">
          <option value="ููุฑุฉ ุงููุงููู">ููุฑุฉ ุงููุงููู</option>
          <option value="ูุดุงุนู ุงูุดุฑูู">ูุดุงุนู ุงูุดุฑูู</option>
        </select>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {/* ูุณู ุฑูุน ุงููููุงุช */}
        <div className="bg-white p-6 rounded-lg shadow">
          <h2 className="font-bold mb-4">ุฑูุน ููุฑุฏ ุชุนูููู ุฌุฏูุฏ (ุจุงุณู: {teacher})</h2>
          <input type="file" onChange={handleUpload} className="w-full border p-4 border-dashed rounded-lg" />
        </div>

        {/* ูุณู ุนุฏุงุฏ ุงูุฒูุงุฑุงุช */}
        <div className="bg-white p-6 rounded-lg shadow">
          <h2 className="font-bold mb-4">ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑุงุช</h2>
          <div className="flex justify-between items-center mb-2 p-2 bg-blue-50 rounded">
            <span>ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุนูู ุงููุดุท</span>
            <button onClick={() => setVisits({...visits, s1: visits.s1 + 1})} className="bg-blue-600 text-white px-3 py-1 rounded">
              ุงูุฒูุงุฑุงุช: {visits.s1}
            </button>
          </div>
        </div>
      </div>

      {/* ุนุฑุถ ุงููููุงุช ุงูุฎุงุตุฉ ุจูู ูุนููุฉ */}
      <div className="mt-8">
        <h2 className="font-bold text-xl mb-4">ูููุงุช ุงููุนููุฉ: {teacher}</h2>
        <div className="grid grid-cols-1 gap-2">
          {files.filter(f => f.owner === teacher).map((f, i) => (
            <div key={i} className="p-3 bg-white shadow-sm border-r-4 border-blue-500 rounded">
              ๐ {f.name}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Platform />);
